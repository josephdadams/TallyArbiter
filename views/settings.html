<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="lib/css/bootstrap.min.css">
	<link rel="stylesheet" href="lib/css/multiselect.css">
	<link rel="stylesheet" href="lib/css/custom.css">
	<title>Tally Arbiter</title>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	<div class="container">
		<a class="navbar-brand" href="./"><img src="lib/img/logo_white.png" height="30" alt="" loading="lazy"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
		<div class="collapse navbar-collapse" id="navbarNav">
		<ul class="navbar-nav">
			<li class="nav-item"> <a class="nav-link" href="./">Home</a> </li>
			<li class="nav-item"> <a class="nav-link" href="./tally">Tally View</a> </li>
			<li class="nav-item"> <a class="nav-link" href="./producer">Producer</a> </li>
			<li class="nav-item"> <a class="nav-link active" href="./settings">Settings</a> </li>
		</ul>
		</div>
	</div>
	</nav>

	<div class="container">
		<div class="mt-5">
			<h1>Sources <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addSource" id='btnAdd_Source' onclick='Add_Source();'>Add</button>
				<button type="button" class="btn btn-dark" id='btnTestMode' onclick='TestMode(true);'>Turn On Test Mode</button></h1>
			<div class="row">
			<div class="col-xs-6" id='divContainer_Sources'>
				<div id='divSources'></div>
			</div>
			
			<div class="modal fade" id="addSource" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
					<h5 class="modal-title" id="">Source</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnSource_Cancel' onclick='Cancel_Source();'>
						<span aria-hidden="true">&times;</span>
					</button>
					</div>
					<div class="modal-body">
					<div id='divContainer_SourceFields'>
						<select class="custom-select" id='selSourceType' style='display:block;'></select>
						<div id='divSourceFields'></div>
						<button type="button" class="btn btn-dark" id='btnAdd_Source_Save' onclick='Add_Source_Save();'>Save</button>
						<button type="button" class="btn btn-dark" id='btnEdit_Source_Save' onclick='Edit_Source_Save();'>Save</button>
					</div>
					</div>
				</div>
				</div>
			</div>
			</div>
		</div>

		<hr>
		<div class="mt-5">
			<h1>Devices <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#addDevice" onclick='Add_Device();'>Add</button></h1>
			<div class="row">
				<div class="col-xs-6" id='divContainer_Devices'>
					<div id='divDevices'></div>
				</div>

				<div class="modal fade" id="addDevice" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<div class="modal-header">
						<h5 class="modal-title" id="">Device</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnDevice_Cancel' onclick='Cancel_Device();'>
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
						<div id='divContainer_DeviceFields'>
							<div id='divDeviceFields'></div>
							<button type="button" class="btn btn-dark" id='btnAdd_Device_Save' onclick='Add_Device_Save();'>Save</button>
							<button type="button" class="btn btn-dark" id='btnEdit_Device_Save' onclick='Edit_Device_Save();'>Save</button>
						</div>
						</div>
					</div>
					</div>
				</div>

				<div class="modal fade" id="modalDeviceSources" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
							<h5 class="modal-title" id="hDeviceSources">Device Sources</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnDeviceSources_Close' onclick='Close_Device_Sources();'>
								<span aria-hidden="true">&times;</span>
							</button>
							</div>
							<div class="modal-body">
								<div id='divContainer_DeviceSources'>
									<div id='divDeviceSourcesLinking'>
										<b>Device Source Linking - Preview Bus:</b>
										<div class="form-check">
											<input type="radio" class="form-check-input" id="rdoDeviceSourcesPVWUnlinked" name="deviceSourcePVWLinking" onClick="UpdateDeviceSourceLink('preview', false);">
											<label class="form-check-label" for="rdoDeviceSourcesPVWUnlinked">Unlinked: The device can be in PVW if it is in PVW in <b>any</b> Device Source (default)</label>
										</div>
										<div class="form-check">
											<input type="radio" class="form-check-input" id="rdoDeviceSourcesPVWLinked" name="deviceSourcePVWLinking" onClick="UpdateDeviceSourceLink('preview', true);">
											<label class="form-check-label" for="rdoDeviceSourcesPVWLinked">Linked: The device is only considered to be in PVW if it is in PVW across <b>all</b> Device Sources.</label>
										</div>
										<br />
										<b>Device Source Linking - Program Bus:</b>
										<div class="form-check">
											<input type="radio" class="form-check-input" id="rdoDeviceSourcesPGMUnlinked" name="deviceSourcePGMLinking" onClick="UpdateDeviceSourceLink('program', false);">
											<label class="form-check-label" for="rdoDeviceSourcesPGMUnlinked">Unlinked: The device can be in PGM if it is in PGM in <b>any</b> Device Source (default)</label>
										</div>
										<div class="form-check">
											<input type="radio" class="form-check-input" id="rdoDeviceSourcesPGMLinked" name="deviceSourcePGMLinking" onClick="UpdateDeviceSourceLink('program', true);">
											<label class="form-check-label" for="rdoDeviceSourcesPGMLinked">Linked: The device is only considered to be in PGM if it is in PGM across <b>all</b> Device Sources.</label>
										</div>
									</div>
									<div id='divDeviceSources'></div>
								</div>
						
								<div id='divContainer_DeviceSourceFields'> <span class='title'>Device Source</span>
									<div id='divDeviceSourceFields'></div>
									<button type="button" class="btn btn-dark" id='btnAdd_DeviceSource_Save' onclick='Add_Device_Source_Save();'>Save</button>
									<button type="button" class="btn btn-dark" id='btnEdit_DeviceSource_Save' onclick='Edit_Device_Source_Save();'>Save</button>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="modal fade" id="modalDeviceActions" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
							<h5 class="modal-title" id="hDeviceActions">Device Actions</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnDeviceActions_Close' onclick='Close_Device_Actions();'>
								<span aria-hidden="true">&times;</span>
							</button>
							</div>
							<div class="modal-body">
								<div id='divContainer_DeviceActions'>
									<div id='divDeviceActions'></div>
								</div>

								<div id='divContainer_DeviceActionFields'> <span class='title'>Device Action</span>
									<div id='divDeviceActionDropdowns'> Bus:
										<select id='selDeviceAction_Bus' style='display:block;'></select>
										<br /> Active:
										<select id='selDeviceAction_BusActive' style='display:block;'>
										<option value='on'>On</option>
										<option value='off'>Off</option>
										</select>
										<br /> Output Type:
										<select id='selDeviceAction_OutputType' style='display:block;'></select>
										<br /> </div>
									<div id='divDeviceActionFields'></div>
									<br />
									<button type="button" class="btn btn-dark" id='btnAdd_DeviceAction_Save' onclick='Add_Device_Action_Save();'>Save</button>
									<button type="button" class="btn btn-dark" id='btnEdit_DeviceAction_Save' onclick='Edit_Device_Action_Save();'>Save</button>
									</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<hr>
		<div class="mt-5 row">
			<h1>Connected Listeners</h1>
			<div class="col-12" id='divContainer_Listeners'>
				<div id='divListeners'></div>
			</div>
		</div>

		<hr>
		<div class="mt-5">
			<h1>TSL Clients <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#modalTSLClient" id='btnAdd_TSL_Client' onclick='Add_TSL_Client();'>Add</button></h1>
			<div class="custom-control custom-switch">
				<input type="checkbox" class="custom-control-input" onclick="TSLClients_1SecUpdate();" id="chkTSLClients_1SecUpdate">
				<label class="custom-control-label" for="chkTSLClients_1SecUpdate">1-Second Updates</label>
			  </div>
			<div class="row">
				<div id='divContainer_TSLClients'>
					<div id='divTSLClients'></div>
				</div>
			
				<div class="modal fade" id="modalTSLClient" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<div class="modal-header">
						<h5 class="modal-title" id="">TSL Client</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnTSL_Client_Cancel' onclick='Cancel_TSL_Client();'>
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
							<div id='divContainer_TSLClientFields'>
								<div id='divTSLClientFields'></div>
								<button type="button" class="btn btn-dark" id='btnAdd_TSL_Client_Save' onclick='Add_TSL_Client_Save();'>Save</button>
								<button type="button" class="btn btn-dark" id='btnEdit_TSL_Client_Save' onclick='Edit_TSL_Client_Save();'>Save</button>
							</div>
						</div>
					</div>
					</div>
				</div>
			</div>
		</div>
			
		<hr>

		<div class="mt-5">
			<h1><img src='lib/img/cloud.png' width='50' style='padding:3px;' />Cloud Settings</h1>
			<div class="row">
				<div id='divContainer_CloudSettings'>
					<div id='divContainer_CloudDestinations'> <span class='title'>Destinations</span>
						<div id='divCloudDestinations'></div>
						<button type="button" class="btn btn-dark" id='btnAdd_Cloud_Destination' onclick='Add_Cloud_Destination();'>Add</button>
					</div>

					<div id='divContainer_CloudKeys'> <span class='title'>Keys</span>
						<div id='divCloudKeys'></div>
						<button type="button" class="btn btn-dark" id='btnAdd_Cloud_Key' onclick='Add_Cloud_Key();'>Add</button>
					</div>

					<div class="col-xs-4" id='divContainer_CloudClients'> <span class='title'>Clients</span>
						<div id='divCloudClients'></div>
					</div>
				</div>
			
				<div class="modal fade" id="modalCloudDestination" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
							<h5 class="modal-title" id="">Cloud Destination</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnCloud_Destination_Cancel' onclick='Cancel_Cloud_Destination();'>
								<span aria-hidden="true">&times;</span>
							</button>
							</div>
							<div class="modal-body">
								<div id='divContainer_CloudDestinationFields'>
									<div id='divCloudDestinationFields'></div>
									<button type="button" class="btn btn-dark" id='btnAdd_Cloud_Destination_Save' onclick='Add_Cloud_Destination_Save();'>Save</button>
									<button type="button" class="btn btn-dark" id='btnEdit_Cloud_Destination_Save' onclick='Edit_Cloud_Destination_Save();'>Save</button>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="modal fade" id="modalCloudKey" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
							<h5 class="modal-title" id="">Cloud Key</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"  id='btnCloud_Key_Cancel' onclick='Cancel_Cloud_Key();'>
								<span aria-hidden="true">&times;</span>
							</button>
							</div>
							<div class="modal-body">
								<div id='divContainer_CloudKeyFields'>
									<div id='divCloudKeyFields'></div>
									<button type="button" class="btn btn-dark" id='btnAdd_Cloud_Key_Save' onclick='Add_Cloud_Key_Save();'>Save</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<hr>
		<div class="mt-5 row">
			<div class="col-xs-12 col-md-6" id='divContainer_Logs'>
			<h2>Logs</h2>
			<div id='divLogs'></div>
			</div>
			<div class="col-xs-12 col-md-6" id='divContainer_TallyData'>
			<h2>Tally Data</h2>
			<div id='divTallyData'></div>
			</div>
		</div>
		<span class="legal mb-5" id="version"></span>
	</div>
	<script src="lib/js/jquery-3.5.1.min.js"></script>
	<script src="lib/js/bootstrap.min.js"></script>
	<script src='socket.io/socket.io.js'></script>
	<script src='lib/js/nosleep.min.js'></script>
	<script src="lib/js/multiselect.min.js"></script>
	<script src="lib/js/admin.js"></script>
</body>

</html>