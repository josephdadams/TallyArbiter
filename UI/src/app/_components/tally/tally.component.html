<div class="d-flex justify-content-center mt-5 pt-5" *ngIf="!socketService.devices">
    <div class="spinner spinner-border"></div>
</div>
<div *ngIf="socketService.devices">
    <div class="container mt-5" *ngIf="currentDeviceIdx === undefined">
        <div class="form-group" *ngIf="socketService.devices.length > 0">
            <select class='form-control col-xs-6 col-md-3' (change)="selectDevice($event)">
                <option disabled selected>-- {{"DEVICES.SELECT_DEVICE" | translate}} --</option>
                <option [value]="device.id" *ngFor="let device of socketService.devices">{{device.name}}</option>
            </select>
        </div>
        <h2 class="lead mt-5" *ngIf="socketService.devices.length == 0">{{"DEVICES.NO_DEVICES_AVAILABLE" | translate}}</h2>
    </div>

    <div class="d-flex flex-column max-height container-fluid pt-5 text-center" [class.text-white]="!currentBus?.color" [style.background-color]="currentBus?.color || COLORS.DARK_GREY" *ngIf="currentDeviceIdx !== undefined && socketService.devices[currentDeviceIdx]">
        <div>
            <h1>{{socketService.devices[currentDeviceIdx].name}}</h1>
            <small>{{socketService.devices[currentDeviceIdx].description }}</small>
        </div>
        <div class="container flex-fill py-4" style="min-height: 50px;">
            <app-chat *ngIf="route.snapshot.queryParams.chat !== 'false'" type="client"></app-chat>
        </div>
    </div>
</div>